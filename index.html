<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="content-type" content="text/html;charset=utf-8" />
        <title>e621P</title>
    <meta name="description" content="A fullscreen presentation or slide show of e621. e621p" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="format-detection" content="date=no" />
        <meta name="format-detection" content="address=no" />   
        <link rel="shortcut icon" href="./images/favicon.png" />
    <link rel="stylesheet" type="text/css" href="./css/style.css" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
        <script type="text/javascript" src="./js/jquery.touchwipe.js"></script>
        <script type="text/javascript" src="./js/script.js"></script>
        <script type="text/javascript" src="https://assets.gfycat.com/js/gfyajax-0.517d.js"></script>
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-67290543-1"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'UA-67290543-1');
        </script>
    </head>
    <body id="page">
        <div id="settingsMenuContainer">
            <button id="settingsButton" aria-label="Settings" title="Settings">
                <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align:middle;"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 8 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 5 15.4a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 8a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 8 4.6a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09c0 .66.39 1.26 1 1.51a1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 8c.66 0 1.26.39 1.51 1H21a2 2 0 0 1 0 4h-.09c-.66 0-1.26.39-1.51 1z"/></svg>
            </button>
            <div id="settingsDropdown" class="hidden" role="menu" aria-label="Settings menu">
                <div class="settingsDropdownHeader">Settings</div>
                <ul>
                    <li class="settingsDropdownItem"><a href="https://github.com/SilentDeath1/e621p" target="_blank" rel="noopener">Source (src)</a></li>
                    </li>
                </ul>
            </div>
        </div>
        <div id="searchBar" role="search" aria-label="Search tags">
            <label for="tagSearch" class="visually-hidden">Search tags</label>
                        <input type="text" id="tagSearch" placeholder="Search tags (e.g. wolf, cute)" aria-label="Search tags" autocomplete="off">
                        <button id="searchBtn" aria-label="Search" title="Search">Search</button>
                        <button id="randomBtn" aria-label="Random" title="Random">Random</button>
                        <div id="searchSuggestions" class="hidden" role="listbox" aria-label="Search suggestions"></div>
        </div>
        <!-- Non-blocking status messages (network / loading / errors) -->
        <div id="statusMessage" class="hidden" aria-live="polite"></div>
        <div class="prevArrow fadeOnIdle" title="The arrow keys work too" id="prevButton"></div>
        <div class="nextArrow fadeOnIdle" title="Try the arrow keys too" id="nextButton"></div>
        <div id="controlsDiv" class='navbox clouds fadeOnIdle'>
            <div class="collapser" data-openstate="open">-</div>
            <div id="navboxContents">
                <ul class="nbmenu">
                    <li id="subredditUrl"><noscript>No javascript, no gain.</noscript>
                    </li>
                    <li>
                        <a title="hotkeys">hotkeys</a>
                    </li>
                    <li>
                        <input class="checkbox" type="checkbox" name="nsfw" id="nsfw" value="Auto" />
                        <label class="checkbox over18" for="nsfw"> nsfw</label>
                        <input class="checkbox" type="checkbox" name="descending" id="descending" value="Auto" checked />
                        <label class="checkbox" for="descending"> Descending</label>
                        <img src="./images/fullscreen.png" id="fullScreenButton" alt="Fullscreen" />
                    </li>
                </ul>
                <ul class="nbmenu">
                    <li>
                        <input class="checkbox" type="checkbox" name="autoNextSlide" id="autoNextSlide" value="Auto" checked />
                        <label class="checkbox" for="autoNextSlide"> Auto-next</label>
                        every <input type="text" name="timeToNextSlide" id="timeToNextSlide" value="10" size="2" /> seconds
                    </li>
                    <li>
                        <a id='navboxCommentsLink' href='#' title='Comments on e621'>comments</a>
                    </li>
                    <li>
                        <a id='navboxLink' href='#' title='placeholder'>image</a>
                    </li>
                </ul>
                <div class="numberButtonList">
                    <ul id="allNumberButtons">
                    <!-- Slide number buttons will be injected by jQuery -->
                    </ul>
                    <ul id="sfwNumberButtons">
                    </ul>
                </div>
            </div>
        </div>
        <div id="titleDiv" class='navbox clouds'>
            <div class="collapser" data-openstate="open">-</div>
            <h2 id='navboxTitle'>
                <noscript>Javascript is required for e621p to work :(</noscript>
            </h2>
        </div>           
        <div id="pictureSlider">
            <!-- Pictures will be injected by jQuery -->
            <div>
                <!-- Empty div to be animated out, do not erase -->
            </div>
        </div>

    <script>
    // Settings menu toggle
    document.addEventListener('DOMContentLoaded', function() {
        var btn = document.getElementById('settingsButton');
        var menu = document.getElementById('settingsDropdown');
        btn.addEventListener('click', function(e) {
            menu.classList.toggle('hidden');
        });
        document.addEventListener('click', function(e) {
            if (!btn.contains(e.target) && !menu.contains(e.target)) {
                menu.classList.add('hidden');
            }
        });
    });
    </script>
        <div id="hotkeyHelpModal" class="hidden" tabindex="-1" role="dialog" aria-modal="true" aria-label="Hotkey help">
            <div class="hotkeyHelpContent">
                <h2>Keyboard & Touch Shortcuts</h2>
                <ul>
                    <li><b>a</b> – toggles auto-next (play/pause)</li>
                    <li><b>t</b> – collapse/uncollapse title</li>
                    <li><b>c</b> – collapse/uncollapse controls</li>
                    <li><b>i</b> – open image in a new tab</li>
                    <li><b>r</b> – open comments in a new tab</li>
                    <li><b>f</b> – toggle full screen mode</li>
                    <li><b>Arrow keys</b>, <b>PgUp/PgDn</b>, <b>Spacebar</b> – change slides</li>
                    <li><b>Swipe gestures</b> – change slides on phones</li>
                </ul>
                <button id="closeHotkeyHelp">Close</button>
            </div>
        </div>
    </body>
</html>
